Authentication Patterns -  Statefull and Stateless

1. Stateful Authentication
    -Server remembers the user by storing session data.

ğŸ” How it works:
    -After login, server creates a session (unique ID) and stores it in server memory or DB.
    -This session ID is sent to the client (usually in a cookie).
    -On each request, client sends the cookie back.
    -Server looks up session ID â†’ finds user.

âœ… Pros:
    -Easy to implement
    -Server can invalidate sessions (e.g. on logout)
    -Good for sensitive apps (e.g. admin panels)

âŒ Cons:
    -Server must store sessions, so it's harder to scale (needs sticky sessions or shared session store like Redis)
    -More memory usage per user
    -On restart the server the stored cookies are still there, but unable to login the user

âœ… Example:
You â†’ login â†’ server saves session â†’ gives cookie â†’ you send cookie â†’ server uses session to identify you


2. Stateless Authentication (JWT)
    -Server does not remember anything. All info is in the token itself.

ğŸ” How it works:
    -After login, server generates a JWT (contains user data).
    -Client stores it (cookie or localStorage).
    -On each request, token is sent (usually via Authorization header or cookie).
    -Server verifies the token and gets user info.

âœ… Pros:
    -Scalable: No server memory/storage needed
    -Works well in microservices
    -Can add expiry, roles, etc. in token

âŒ Cons:
    -You can't revoke a token (unless you build a blacklist)
    -If token is stolen, attacker stays logged in until it expires
    -Bigger payload per request

âœ… Example:
You â†’ login â†’ server gives JWT â†’ you send JWT â†’ server verifies JWT and gets user info